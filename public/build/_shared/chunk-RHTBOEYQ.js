import{a as C}from"/build/_shared/chunk-HNF2M344.js";import{a as r,h as v}from"/build/_shared/chunk-NVGVVEPD.js";import{Ia as I,N as x,Ra as L,ja as D,l as P,na as F}from"/build/_shared/chunk-PNJDYZ5P.js";import{a as B,b as f}from"/build/_shared/chunk-BBTKOQ57.js";import{e as g}from"/build/_shared/chunk-UED2Q7CE.js";var l=g(B());var e=g(f());function A({file:a,progress:d,onRemove:b,previewUrl:o,disabled:p=!1,className:N}){let[i,k]=(0,l.useState)(!1),[c,n]=(0,l.useState)(!0),t=(0,l.useRef)(null),[u,y]=(0,l.useState)(!1),[w,h]=(0,l.useState)(null);if(!a)return null;let E=a.type.startsWith("image/"),z=a.type.startsWith("video/"),S=()=>{t.current&&(i?t.current.pause():t.current.play().catch(m=>{h("Erreur de lecture de la vid\xE9o"),console.error(m)}),k(!i))},V=()=>{y(!0),h(null)},R=()=>{y(!1),h("Impossible de charger la vid\xE9o")},T=()=>{if(t.current&&t.current.textTracks.length>0){let m=t.current.textTracks[0];c?m.mode="hidden":m.mode="showing",n(!c)}},j=()=>a.name?`${a.name.substring(0,a.name.lastIndexOf("."))||a.name}.vtt`:"";return(0,e.jsxs)("div",{className:r("relative p-4 rounded-xl border","bg-background text-foreground","dark:border-border",N),children:[E&&o?(0,e.jsx)("div",{className:"relative mb-3 w-full aspect-square",children:(0,e.jsx)("img",{src:o,alt:a.name,className:r("absolute inset-0 w-full h-full object-cover rounded-lg","bg-muted")})}):z&&o?(0,e.jsxs)("div",{className:"relative mb-3 w-full aspect-video",children:[(0,e.jsx)("div",{className:r("absolute inset-0 rounded-lg overflow-hidden","bg-muted"),children:(0,e.jsxs)("video",{ref:t,className:"w-full h-full object-contain",onLoadedData:V,onError:R,playsInline:!0,controls:u,children:[(0,e.jsx)("source",{src:o,type:a.type}),(0,e.jsx)("track",{kind:"captions",src:`/captions/${j()}`,srcLang:"fr",label:"Fran\xE7ais",default:!0}),"Votre navigateur ne prend pas en charge la lecture de vid\xE9os."]})}),!u&&(0,e.jsxs)("div",{className:r("absolute inset-0 flex flex-col items-center justify-center","rounded-lg bg-muted"),children:[(0,e.jsx)(x,{className:"h-10 w-10 text-muted-foreground"}),w&&(0,e.jsx)("p",{className:"mt-2 text-sm text-destructive",children:w})]}),u&&(0,e.jsxs)("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[(0,e.jsxs)(v,{variant:"secondary",size:"icon",onClick:T,className:r("w-8 h-8 rounded-full","bg-background/80 hover:bg-background/90","dark:bg-background/90 dark:hover:bg-background"),disabled:!u||p,title:c?"D\xE9sactiver les sous-titres":"Activer les sous-titres",children:[(0,e.jsx)(P,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"sr-only",children:c?"D\xE9sactiver les sous-titres":"Activer les sous-titres"})]}),(0,e.jsxs)(v,{variant:"secondary",size:"icon",onClick:S,className:r("w-8 h-8 rounded-full","bg-background/80 hover:bg-background/90","dark:bg-background/90 dark:hover:bg-background"),disabled:!u||p,title:i?"Pause":"Lecture",children:[i?(0,e.jsx)(D,{className:"h-4 w-4"}):(0,e.jsx)(F,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"sr-only",children:i?"Pause":"Lecture"})]})]})]}):(0,e.jsx)("div",{className:r("relative mb-3 w-full aspect-square","flex items-center justify-center","rounded-lg bg-muted"),children:(0,e.jsx)(x,{className:"h-10 w-10 text-muted-foreground"})}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)("div",{className:r("text-sm truncate","text-muted-foreground"),title:a.name,children:a.name}),(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[d&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"min-w-[2.5rem] text-sm",children:[d,"%"]}),(0,e.jsx)(C,{value:d,className:r("flex-1","[&>div]:bg-primary")})]}),(0,e.jsxs)(v,{variant:"ghost",size:"icon",onClick:b,className:r("min-w-[2rem] h-8","hover:bg-muted","focus-visible:ring-1 focus-visible:ring-ring"),disabled:p,children:[(0,e.jsx)(L,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"sr-only",children:"Supprimer le fichier"})]})]})]})]})}var s=g(f());function W({maxSize:a="2MB",multiple:d=!1,accept:b,onFileSelect:o,maxFilesNumber:p=3,disabled:N}){return(0,s.jsx)("div",{className:"cursor-pointer p-4 sm:p-8 lg:p-12 flex justify-center bg-white border border-dashed border-gray-300 rounded-xl dark:bg-neutral-800 dark:border-neutral-600",onDragOver:n=>{n.preventDefault(),n.stopPropagation()},onDrop:n=>{n.preventDefault(),n.stopPropagation();let t=n.dataTransfer.files;t&&t.length>0&&(console.log("files:",t),o(t))},children:(0,s.jsxs)("label",{className:"w-full cursor-pointer",children:[(0,s.jsx)("input",{type:"file",className:"hidden",multiple:d,accept:b,onChange:n=>{let t=n.target.files;t&&t.length>0&&(console.log("files:",t),o(t))}}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"inline-flex justify-center items-center size-12 sm:size-14 lg:size-16 bg-gray-100 text-gray-800 rounded-full dark:bg-neutral-700 dark:text-neutral-200",children:(0,s.jsx)(I,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),(0,s.jsxs)("div",{className:"mt-3 sm:mt-4 flex flex-wrap justify-center text-base sm:text-lg leading-relaxed text-gray-600",children:[(0,s.jsx)("span",{className:"pe-1 font-medium text-gray-800 dark:text-neutral-200",children:"D\xE9posez vos fichier ici ou"}),(0,s.jsx)("span",{className:"bg-white font-semibold text-blue-600 hover:text-blue-700 rounded-lg decoration-2 hover:underline focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-600 focus-within:ring-offset-2 dark:bg-neutral-800 dark:text-blue-500 dark:hover:text-blue-600",children:"s\xE9lectionner un fichier"})]}),(0,s.jsxs)("p",{className:"mt-2 sm:mt-3 text-sm sm:text-base text-gray-400 dark:text-neutral-400",children:["Tailles de fichier max totale ",a,"."]})]})]})})}export{A as a,W as b};
