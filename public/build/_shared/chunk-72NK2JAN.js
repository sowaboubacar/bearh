import{Ba as a,ga as s}from"/build/_shared/chunk-PNJDYZ5P.js";import{a as l,b as i}from"/build/_shared/chunk-BBTKOQ57.js";import{e as d}from"/build/_shared/chunk-UED2Q7CE.js";var t=d(l());var n=d(i()),c=(0,t.createContext)(void 0);function f({children:o,initialTheme:r}){let[h,m]=(0,t.useState)(r||"light");(0,t.useEffect)(()=>{r||fetch("/api/set-theme").then(e=>e.json()).then(e=>{m(e.theme)}).catch(e=>{console.error("Erreur lors de la r\xE9cup\xE9ration du th\xE8me :",e)})},[r]),(0,t.useEffect)(()=>{h==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),fetch("/api/set-theme",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({theme:h})}).catch(e=>{console.error("Erreur lors de la mise \xE0 jour du th\xE8me :",e)})},[h]);let u=()=>{m(e=>e==="light"?"dark":"light")};return(0,n.jsx)(c.Provider,{value:{theme:h,toggleTheme:u},children:o})}var g=()=>{let o=(0,t.useContext)(c);if(o===void 0)throw new Error("useTheme must be used within a ThemeProvider");return o};function p(){let{theme:o,toggleTheme:r}=g();return(0,n.jsx)("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":o==="light"?"Switch to dark mode":"Switch to light mode",children:o==="light"?(0,n.jsx)(s,{className:"w-5 h-5"}):(0,n.jsx)(a,{className:"w-5 h-5"})})}export{f as a,p as b};
