import{a as A,b as F,c as I,d as T,e as i}from"/build/_shared/chunk-NCY4KUS2.js";import"/build/_shared/chunk-Q6K63OHD.js";import"/build/_shared/chunk-KAUQO2FD.js";import"/build/_shared/chunk-7ZNTUDLC.js";import{a as K}from"/build/_shared/chunk-6JFOYO3V.js";import{a as X}from"/build/_shared/chunk-SVVENAN2.js";import{a as R}from"/build/_shared/chunk-L2TBXS32.js";import{a as U}from"/build/_shared/chunk-A762UFCP.js";import"/build/_shared/chunk-RHTBOEYQ.js";import"/build/_shared/chunk-HNF2M344.js";import"/build/_shared/chunk-IQV4D3C7.js";import"/build/_shared/chunk-H33OI7YH.js";import"/build/_shared/chunk-JBQJJPFB.js";import{b as a}from"/build/_shared/chunk-SS7AQOQ3.js";import{a as E,b as P,c as B}from"/build/_shared/chunk-2MHSPA7K.js";import"/build/_shared/chunk-M3TRH43M.js";import{a as n}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-XNZ6DBKW.js";import"/build/_shared/chunk-YYMCCM4Y.js";import{a as Q}from"/build/_shared/chunk-35S5HMBT.js";import"/build/_shared/chunk-2BPW44Z6.js";import"/build/_shared/chunk-5KYGR3MA.js";import"/build/_shared/chunk-KLKNQD3Q.js";import"/build/_shared/chunk-PGURRWG5.js";import"/build/_shared/chunk-AQWSFLPG.js";import"/build/_shared/chunk-GFAY22KF.js";import"/build/_shared/chunk-NGC74IU4.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as J}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as D,b as N,c as y,e as x,f as S}from"/build/_shared/chunk-G5A27C7O.js";import{h as o}from"/build/_shared/chunk-NVGVVEPD.js";import{X as L,b as C,t as w}from"/build/_shared/chunk-PNJDYZ5P.js";import{e as u,i as p,k as f,l as g,p as b,q as v}from"/build/_shared/chunk-GTSSQFHM.js";import{a as G,b as h}from"/build/_shared/chunk-BBTKOQ57.js";import{e as t}from"/build/_shared/chunk-UED2Q7CE.js";var r=t(G()),Y=t(Q());var Z=t(X()),_=t(K()),ee=t(J());var e=t(h());function q(){let{users:te}=b(),m=v(),c=u(),[l,j]=(0,r.useState)(!1),[z,H]=(0,r.useState)([]),W=p(),[k,M]=(0,r.useState)(!1),O=s=>{j(!0),s.preventDefault();let d=new FormData(s.currentTarget);z.forEach($=>{d.append("attachments",$.id)}),W(d,{method:"post"})},V=s=>{H(s)};return(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[(0,e.jsx)(o,{asChild:!0,variant:"outline",className:"mb-6 h-12 text-base",children:(0,e.jsxs)(f,{prefetch:"intent",to:"/o/permissions-and-leave",children:[(0,e.jsx)(C,{className:"mr-2 h-5 w-5"}),"Retour \xE0 la liste"]})}),(0,e.jsxs)(D,{className:"max-w-2xl mx-auto",children:[(0,e.jsx)(N,{className:"p-4 sm:p-6",children:(0,e.jsx)(y,{className:"text-2xl sm:text-3xl font-bold",children:"Nouvelle Demande de Permission ou Cong\xE9"})}),(0,e.jsxs)(g,{method:"post",onSubmit:O,children:[(0,e.jsxs)(x,{className:"p-4 sm:p-6 space-y-6",children:[m?.error&&(0,e.jsxs)(E,{variant:"destructive",children:[(0,e.jsx)(w,{className:"h-5 w-5"}),(0,e.jsx)(P,{className:"text-base font-medium",children:"Erreur"}),(0,e.jsx)(B,{className:"text-base",children:m.error})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(a,{htmlFor:"type",className:"text-base font-medium",children:"Type"}),(0,e.jsxs)(A,{name:"type",required:!0,children:[(0,e.jsx)(I,{className:"h-12 text-base",children:(0,e.jsx)(F,{placeholder:"S\xE9lectionnez le type"})}),(0,e.jsxs)(T,{children:[(0,e.jsx)(i,{value:"Permission",className:"text-base",children:"Permission"}),(0,e.jsx)(i,{value:"Leave",className:"text-base",children:"Cong\xE9"})]})]})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(a,{htmlFor:"startDate",className:"text-base font-medium",children:"Date de d\xE9but"}),(0,e.jsx)(n,{type:"date",id:"startDate",name:"startDate",required:!0,className:"h-12 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(a,{htmlFor:"endDate",className:"text-base font-medium",children:"Date de fin"}),(0,e.jsx)(n,{type:"date",id:"endDate",name:"endDate",required:!0,className:"h-12 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(a,{htmlFor:"reason",className:"text-base font-medium",children:"Raison"}),(0,e.jsx)(R,{id:"reason",name:"reason",rows:3,required:!0,className:"min-h-[120px] text-base p-3 resize-y"})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(a,{htmlFor:"attachments",className:"text-base font-medium",children:"Images & Pi\xE8ces jointes"}),(0,e.jsx)(U,{onSelect:V,multiple:!0,accept:"image/*,application/pdf",maxSize:5*1024*1024,onBusyStateChange:M})]})]}),(0,e.jsx)(S,{className:"p-4 sm:p-6",children:(0,e.jsx)(o,{type:"submit",className:"w-full h-12 text-base",disabled:l||k||c.state==="submitting",children:l||c.state==="submitting"?(0,e.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,e.jsx)(L,{className:"h-5 w-5 animate-spin"}),"Cr\xE9ation en cours..."]}):"Cr\xE9er la demande"})})]})]})]})}export{q as default};
