import{a as P}from"/build/_shared/chunk-W7OEIS22.js";import{a as w}from"/build/_shared/chunk-LMEZILER.js";import{a as L}from"/build/_shared/chunk-YDVZI2RP.js";import{a as I,b as j,c as b,d as C}from"/build/_shared/chunk-Z7S4CDT2.js";import"/build/_shared/chunk-UNOET767.js";import"/build/_shared/chunk-7ZNTUDLC.js";import{b as s}from"/build/_shared/chunk-SS7AQOQ3.js";import{a as i}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-YYMCCM4Y.js";import"/build/_shared/chunk-2BPW44Z6.js";import"/build/_shared/chunk-5KYGR3MA.js";import"/build/_shared/chunk-GFAY22KF.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import{a as u,b as g,c as p,e as v}from"/build/_shared/chunk-G5A27C7O.js";import{h as c}from"/build/_shared/chunk-NVGVVEPD.js";import{Ea as T,X as B,b as A,oa as x}from"/build/_shared/chunk-PNJDYZ5P.js";import{k as G}from"/build/_shared/chunk-GTSSQFHM.js";import{a as V,b as H}from"/build/_shared/chunk-BBTKOQ57.js";import{e as N}from"/build/_shared/chunk-UED2Q7CE.js";var k=N(V());var e=N(H());function S(){let[D,E]=(0,k.useState)(!1),[n,l]=(0,k.useState)({company:{name:"Pharmacie Val d'Oise",address:"Centre commercial KOKOH Mall, Bessikoi",city:"Cocody, Abidjan",email:"pharmacievaldoise@gmail.com",phone:"+225 07 00 00 37 37",location:"400m du CHU d'Angr\xE9"},defaultCurrency:"F CFA",legislation:"Ivoirienne",workingHours:40,globalDeductions:[{id:"1",description:"Cotisation retraite",amount:5,isPercentage:!0},{id:"2",description:"Assurance maladie",amount:3,isPercentage:!0},{id:"3",description:"Cotisation ch\xF4mage",amount:2,isPercentage:!0}],globalEarnings:[{id:"1",description:"Prime de transport",amount:25e3,isPercentage:!1},{id:"2",description:"Prime de pr\xE9sence",amount:15e3,isPercentage:!1}]}),z=async()=>{try{E(!0),await new Promise(a=>setTimeout(a,1e3)),w.success("Configuration sauvegard\xE9e avec succ\xE8s")}catch{w.error("Erreur lors de la sauvegarde")}finally{E(!1)}},d=(a,t)=>{l(o=>({...o,company:{...o.company,[a]:t}}))},y=(a,t)=>{l(o=>({...o,[a]:t}))},F=()=>{l(a=>({...a,globalDeductions:[...a.globalDeductions,{id:Date.now().toString(),description:"",amount:0,isPercentage:!1}]}))},M=a=>{l(t=>({...t,globalDeductions:t.globalDeductions.filter(o=>o.id!==a)}))},f=(a,t,o)=>{l(m=>({...m,globalDeductions:m.globalDeductions.map(r=>r.id===a?{...r,[t]:o}:r)}))},O=()=>{l(a=>({...a,globalEarnings:[...a.globalEarnings,{id:Date.now().toString(),description:"",amount:0,isPercentage:!1}]}))},R=a=>{l(t=>({...t,globalEarnings:t.globalEarnings.filter(o=>o.id!==a)}))},h=(a,t,o)=>{l(m=>({...m,globalEarnings:m.globalEarnings.map(r=>r.id===a?{...r,[t]:o}:r)}))};return(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 max-w-3xl",children:[(0,e.jsx)(c,{asChild:!0,variant:"outline",className:"mb-6 h-12 text-base",children:(0,e.jsxs)(G,{prefetch:"intent",to:"/o/payroll",children:[(0,e.jsx)(A,{className:"mr-2 h-5 w-5"}),"Retour \xE0 la liste"]})}),(0,e.jsxs)("div",{className:"container mx-auto py-10 space-y-8",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold",children:"Configuration des Fiches de Paie"}),(0,e.jsx)("p",{className:"text-muted-foreground",children:"G\xE9rez les param\xE8tres globaux des fiches de paie"})]}),(0,e.jsxs)(c,{onClick:z,disabled:D,children:[D&&(0,e.jsx)(B,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrer les modifications"]})]}),(0,e.jsxs)(I,{defaultValue:"company",className:"space-y-6",children:[(0,e.jsxs)(j,{className:"grid w-full grid-cols-4",children:[(0,e.jsx)(b,{value:"company",children:"Entreprise"}),(0,e.jsx)(b,{value:"earnings",children:"Revenus Globaux"}),(0,e.jsx)(b,{value:"deductions",children:"D\xE9ductions Globales"}),(0,e.jsx)(b,{value:"settings",children:"Param\xE8tres"})]}),(0,e.jsx)(C,{value:"company",children:(0,e.jsxs)(u,{children:[(0,e.jsx)(g,{children:(0,e.jsx)(p,{children:"Informations de l'entreprise"})}),(0,e.jsxs)(v,{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Nom de l'entreprise"}),(0,e.jsx)(i,{value:n.company.name,onChange:a=>d("name",a.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Adresse"}),(0,e.jsx)(i,{value:n.company.address,onChange:a=>d("address",a.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Ville"}),(0,e.jsx)(i,{value:n.company.city,onChange:a=>d("city",a.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Email"}),(0,e.jsx)(i,{type:"email",value:n.company.email,onChange:a=>d("email",a.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"T\xE9l\xE9phone"}),(0,e.jsx)(i,{value:n.company.phone,onChange:a=>d("phone",a.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Localisation"}),(0,e.jsx)(i,{value:n.company.location,onChange:a=>d("location",a.target.value)})]})]})]})}),(0,e.jsx)(C,{value:"earnings",children:(0,e.jsxs)(u,{children:[(0,e.jsxs)(g,{className:"flex flex-row items-center justify-between",children:[(0,e.jsx)(p,{children:"Revenus Globaux"}),(0,e.jsxs)(c,{onClick:O,variant:"outline",size:"sm",children:[(0,e.jsx)(x,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),(0,e.jsxs)(v,{className:"space-y-6",children:[n.globalEarnings.map(a=>(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)(L,{}),(0,e.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Description"}),(0,e.jsx)(i,{value:a.description,onChange:t=>h(a.id,"description",t.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Montant"}),(0,e.jsx)(i,{type:"number",value:a.amount,onChange:t=>h(a.id,"amount",parseFloat(t.target.value))})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(P,{checked:a.isPercentage,onCheckedChange:t=>h(a.id,"isPercentage",t)}),(0,e.jsx)(s,{children:"Calculer en pourcentage"})]}),(0,e.jsx)(c,{variant:"ghost",size:"icon",onClick:()=>R(a.id),children:(0,e.jsx)(T,{className:"h-4 w-4 text-destructive"})})]})]},a.id)),n.globalEarnings.length===0&&(0,e.jsx)("div",{className:"text-center py-6 text-muted-foreground",children:"Aucun revenu global configur\xE9"})]})]})}),(0,e.jsx)(C,{value:"deductions",children:(0,e.jsxs)(u,{children:[(0,e.jsxs)(g,{className:"flex flex-row items-center justify-between",children:[(0,e.jsx)(p,{children:"D\xE9ductions Globales"}),(0,e.jsxs)(c,{onClick:F,variant:"outline",size:"sm",children:[(0,e.jsx)(x,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]}),(0,e.jsxs)(v,{className:"space-y-6",children:[n.globalDeductions.map(a=>(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)(L,{}),(0,e.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Description"}),(0,e.jsx)(i,{value:a.description,onChange:t=>f(a.id,"description",t.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Montant"}),(0,e.jsx)(i,{type:"number",value:a.amount,onChange:t=>f(a.id,"amount",parseFloat(t.target.value))})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(P,{checked:a.isPercentage,onCheckedChange:t=>f(a.id,"isPercentage",t)}),(0,e.jsx)(s,{children:"Calculer en pourcentage"})]}),(0,e.jsx)(c,{variant:"ghost",size:"icon",onClick:()=>M(a.id),children:(0,e.jsx)(T,{className:"h-4 w-4 text-destructive"})})]})]},a.id)),n.globalDeductions.length===0&&(0,e.jsx)("div",{className:"text-center py-6 text-muted-foreground",children:"Aucune d\xE9duction globale configur\xE9e"})]})]})}),(0,e.jsx)(C,{value:"settings",children:(0,e.jsxs)(u,{children:[(0,e.jsx)(g,{children:(0,e.jsx)(p,{children:"Param\xE8tres G\xE9n\xE9raux"})}),(0,e.jsxs)(v,{className:"space-y-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Devise par d\xE9faut"}),(0,e.jsx)(i,{value:n.defaultCurrency,onChange:a=>y("defaultCurrency",a.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"L\xE9gislation"}),(0,e.jsx)(i,{value:n.legislation,onChange:a=>y("legislation",a.target.value)})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(s,{children:"Heures de travail hebdomadaires"}),(0,e.jsx)(i,{type:"number",value:n.workingHours,onChange:a=>y("workingHours",parseInt(a.target.value))})]})]})]})})]})]})]})}export{S as default};
