import{a as Z}from"/build/_shared/chunk-PQRB23UE.js";import{a as M}from"/build/_shared/chunk-XDNDK56N.js";import"/build/_shared/chunk-KAUQO2FD.js";import"/build/_shared/chunk-7ZNTUDLC.js";import{a as X}from"/build/_shared/chunk-6JFOYO3V.js";import{a as E}from"/build/_shared/chunk-JBQJJPFB.js";import{b as r}from"/build/_shared/chunk-SS7AQOQ3.js";import{a as k,b as L,c as D}from"/build/_shared/chunk-2MHSPA7K.js";import{a as m}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-YYMCCM4Y.js";import{a as Y}from"/build/_shared/chunk-35S5HMBT.js";import"/build/_shared/chunk-5KYGR3MA.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as W}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as i,b as C,c as v,e as A,f as x}from"/build/_shared/chunk-G5A27C7O.js";import{h as c}from"/build/_shared/chunk-NVGVVEPD.js";import{X as B,b as w,t as F}from"/build/_shared/chunk-PNJDYZ5P.js";import{e as p,i as b,k as f,l as g,p as N,q as y}from"/build/_shared/chunk-GTSSQFHM.js";import{a as V,b as h}from"/build/_shared/chunk-BBTKOQ57.js";import{e as a}from"/build/_shared/chunk-UED2Q7CE.js";var _=a(Y());var o=a(V());var ee=a(Z()),te=a(W()),ae=a(X());var e=a(h());function R(){let{bonusCategory:s,users:S}=N(),u=y(),T=p(),[j,q]=(0,o.useState)(s.name),[U,H]=(0,o.useState)(s.baseAmount),[$,O]=(0,o.useState)(s.remarkBonusAmount),[P,z]=(0,o.useState)(s.coefficient),l=T.state==="submitting",G=b(),I=t=>{t.preventDefault();let n=new FormData(t.currentTarget);G(n,{method:"post"})},[d,J]=(0,o.useState)(s.members.map(t=>t.id)),K=t=>{J(n=>n.includes(t)?n.filter(Q=>Q!==t):[...n,t])};return(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:py-10",children:[(0,e.jsx)(c,{asChild:!0,variant:"outline",className:"mb-6 h-11 text-base",children:(0,e.jsxs)(f,{prefetch:"intent",to:"/o/category-prime",children:[(0,e.jsx)(w,{className:"mr-2 h-5 w-5"}),"Retour \xE0 la liste"]})}),(0,e.jsxs)(i,{className:"max-w-2xl mx-auto",children:[(0,e.jsx)(C,{className:"p-4 sm:p-6",children:(0,e.jsx)(v,{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Modifier le Cat\xE9gorie"})}),(0,e.jsxs)(g,{method:"post",onSubmit:I,children:[(0,e.jsxs)(A,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[u?.error&&(0,e.jsxs)(k,{variant:"destructive",children:[(0,e.jsx)(F,{className:"h-5 w-5"}),(0,e.jsx)(L,{className:"text-base",children:"Erreur"}),(0,e.jsx)(D,{className:"text-base",children:u.error})]}),(0,e.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,e.jsx)(r,{htmlFor:"name",className:"text-base font-medium",children:"Nom"}),(0,e.jsx)(m,{id:"name",name:"name",value:j,onChange:t=>q(t.target.value),required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,e.jsx)(r,{htmlFor:"baseAmount",className:"text-base font-medium",children:"Montant de base"}),(0,e.jsx)(m,{id:"baseAmount",name:"baseAmount",type:"number",value:U,onChange:t=>H(Number(t.target.value)),required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,e.jsx)(r,{htmlFor:"coefficient",className:"text-base font-medium",children:"Coefficient"}),(0,e.jsx)(m,{id:"coefficient",name:"coefficient",type:"number",value:P,onChange:t=>z(Number(t.target.value)),required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,e.jsx)(r,{htmlFor:"remarkBonusAmount",className:"text-base font-medium",children:"Montant de la remarque"}),(0,e.jsx)(m,{id:"remarkBonusAmount",name:"remarkBonusAmount",type:"number",value:$,onChange:t=>O(Number(t.target.value)),required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,e.jsx)(r,{className:"text-base font-medium",children:"Membres"}),(0,e.jsx)(i,{children:(0,e.jsx)(M,{className:"h-72 sm:h-80 w-full rounded-md border p-4",children:S.map(t=>(0,e.jsxs)("div",{className:"flex items-center space-x-3 py-3 sm:py-4",children:[(0,e.jsx)(E,{id:`user-${t.id}`,checked:d.includes(t.id),onCheckedChange:()=>K(t.id),className:"h-5 w-5 sm:h-6 sm:w-6"}),(0,e.jsxs)("label",{htmlFor:`user-${t.id}`,className:"text-base font-medium cursor-pointer",children:[t.firstName," ",t.lastName]}),d.includes(t.id)&&(0,e.jsx)("input",{type:"hidden",name:"members",value:t.id})]},t.id))})})]})]}),(0,e.jsx)(x,{className:"p-4 sm:p-6",children:(0,e.jsx)(c,{type:"submit",className:"w-full h-11 text-base",disabled:l,children:l?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(B,{className:"mr-2 h-5 w-5 animate-spin"}),"Mise \xE0 jour en cours..."]}):"Mettre \xE0 jour le Cat\xE9gorie"})})]})]})]})}export{R as default};
