import{a as z,b as W}from"/build/_shared/chunk-ABDDDOIB.js";import{a as J,b as K,c as Q,d as b,e as u,f as p}from"/build/_shared/chunk-IEDNE26R.js";import{a as oe}from"/build/_shared/chunk-XQJLJUUY.js";import"/build/_shared/chunk-M3TRH43M.js";import{a as G}from"/build/_shared/chunk-WZRQ3RQI.js";import{a as x,b as v,c as N,d as C,e as D,f as y,g as T,h as B}from"/build/_shared/chunk-KLKNQD3Q.js";import"/build/_shared/chunk-PGURRWG5.js";import"/build/_shared/chunk-AQWSFLPG.js";import"/build/_shared/chunk-GFAY22KF.js";import"/build/_shared/chunk-NGC74IU4.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as se}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as P,b as A,c as j,e as V,f as O}from"/build/_shared/chunk-G5A27C7O.js";import{h as t}from"/build/_shared/chunk-NVGVVEPD.js";import{Ea as f,K as h,Q as U,W as M,oa as I,ra as q,xa as w}from"/build/_shared/chunk-PNJDYZ5P.js";import{e as k,h as R,i as F,k as l,l as E,p as H}from"/build/_shared/chunk-GTSSQFHM.js";import{a as te,b as $}from"/build/_shared/chunk-BBTKOQ57.js";import{e as d}from"/build/_shared/chunk-UED2Q7CE.js";var X=d(te());var ie=d(oe());var le=d(se());var e=d($());function Y(){let{videos:i,search:r,view:s,page:n,limit:g,can:o}=H(),[m,Z]=(0,X.useState)(!1),_=F(),ee=k().state==="loading",[ne,c]=R(),L=a=>{Z(!0),_({id:a},{method:"delete"})},ae=a=>{a.preventDefault(),c({search:r,view:s})},S=a=>{c({search:r,view:a})};return(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,e.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:"Connaissance des Collaborateurs"}),o?.create&&(0,e.jsx)(t,{asChild:!0,className:"w-full sm:w-auto h-11 text-base",children:(0,e.jsxs)(l,{prefetch:"intent",to:"/o/collaborator-videos/new",children:[(0,e.jsx)(I,{className:"mr-2 h-5 w-5"}),"Nouvelle Entr\xE9e"]})})]}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,e.jsxs)(E,{onSubmit:ae,className:"flex w-full sm:w-auto items-center gap-2",children:[(0,e.jsx)(G,{type:"search",name:"search",placeholder:"Rechercher des unit\xE9 de connaissances...",defaultValue:r,onChange:a=>c({search:a.target.value,view:s}),className:"h-11 text-base w-full sm:w-[300px]"}),(0,e.jsx)(t,{type:"submit",className:"h-11 w-11",children:(0,e.jsx)(q,{className:"h-5 w-5"})})]}),(0,e.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,e.jsx)(t,{variant:s==="grid"?"default":"outline",onClick:()=>S("grid"),className:"flex-1 sm:flex-none h-11",children:(0,e.jsx)(U,{className:"h-5 w-5"})}),(0,e.jsx)(t,{variant:s==="list"?"default":"outline",onClick:()=>S("list"),className:"flex-1 sm:flex-none h-11",children:(0,e.jsx)(M,{className:"h-5 w-5"})})]})]}),ee?(0,e.jsx)(W,{view:s,itemCount:g}):i.results.length>0?s==="grid"?(0,e.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:i.results.map(a=>(0,e.jsxs)(P,{children:[(0,e.jsx)(A,{className:"p-4 sm:p-6",children:(0,e.jsx)(j,{className:"text-lg sm:text-xl",children:a.title})}),(0,e.jsx)(V,{className:"p-4 sm:p-6 pt-0",children:(0,e.jsx)("p",{className:"text-base text-muted-foreground",children:a.description})}),(0,e.jsxs)(O,{className:"p-4 sm:p-6 flex justify-between gap-2",children:[o?.view&&(0,e.jsx)(t,{asChild:!0,variant:"outline",className:"h-11 w-11",children:(0,e.jsx)(l,{prefetch:"intent",to:`/o/collaborator-videos/view/${a.id}`,children:(0,e.jsx)(h,{className:"h-5 w-5"})})}),o?.edit&&(0,e.jsx)(t,{asChild:!0,variant:"outline",className:"h-11 w-11",children:(0,e.jsx)(l,{prefetch:"intent",to:`/o/collaborator-videos/edit/${a.id}`,children:(0,e.jsx)(w,{className:"h-5 w-5"})})}),o?.delete&&(0,e.jsxs)(x,{children:[(0,e.jsx)(v,{asChild:!0,children:(0,e.jsx)(t,{variant:"destructive",className:"h-11 w-11",children:(0,e.jsx)(f,{className:"h-5 w-5"})})}),(0,e.jsxs)(C,{className:"sm:max-w-[425px]",children:[(0,e.jsxs)(D,{children:[(0,e.jsx)(T,{className:"text-lg sm:text-xl",children:"\xCAtes-vous s\xFBr de vouloir supprimer cette unit\xE9 de connaissance ?"}),(0,e.jsx)(B,{className:"text-base",children:"Cette action ne peut pas \xEAtre annul\xE9e."})]}),(0,e.jsxs)(y,{className:"gap-2 sm:gap-0",children:[(0,e.jsx)(N,{asChild:!0,children:(0,e.jsx)(t,{variant:"outline",className:"h-11 text-base",children:"Annuler"})}),(0,e.jsx)(t,{variant:"destructive",onClick:()=>L(a.id),disabled:m,className:"h-11 text-base",children:m?"Suppression...":"Supprimer"})]})]})]})]})]},a.id))}):(0,e.jsx)("div",{className:"rounded-lg border overflow-x-auto",children:(0,e.jsxs)(J,{children:[(0,e.jsx)(K,{children:(0,e.jsxs)(b,{children:[(0,e.jsx)(u,{className:"text-base",children:"Titre"}),(0,e.jsx)(u,{className:"text-base hidden sm:table-cell",children:"Description"}),(0,e.jsx)(u,{className:"text-base text-right",children:"Actions"})]})}),(0,e.jsx)(Q,{children:i.results.map(a=>(0,e.jsxs)(b,{children:[(0,e.jsx)(p,{className:"font-medium text-base",children:a.title}),(0,e.jsx)(p,{className:"text-base hidden sm:table-cell",children:a.description}),(0,e.jsx)(p,{children:(0,e.jsxs)("div",{className:"flex justify-end gap-2",children:[o?.view&&(0,e.jsx)(t,{asChild:!0,variant:"outline",className:"h-11 w-11",children:(0,e.jsx)(l,{prefetch:"intent",to:`/o/collaborator-videos/view/${a.id}`,children:(0,e.jsx)(h,{className:"h-5 w-5"})})}),o?.edit&&(0,e.jsx)(t,{asChild:!0,variant:"outline",className:"h-11 w-11",children:(0,e.jsx)(l,{prefetch:"intent",to:`/o/collaborator-videos/edit/${a.id}`,children:(0,e.jsx)(w,{className:"h-5 w-5"})})}),o?.delete&&(0,e.jsxs)(x,{children:[(0,e.jsx)(v,{asChild:!0,children:(0,e.jsx)(t,{variant:"destructive",className:"h-11 w-11",children:(0,e.jsx)(f,{className:"h-5 w-5"})})}),(0,e.jsxs)(C,{className:"sm:max-w-[425px]",children:[(0,e.jsxs)(D,{children:[(0,e.jsx)(T,{className:"text-lg sm:text-xl",children:"\xCAtes-vous s\xFBr de vouloir supprimer cette unit\xE9 de connaissance ?"}),(0,e.jsx)(B,{className:"text-base",children:"Cette action ne peut pas \xEAtre annul\xE9e."})]}),(0,e.jsxs)(y,{className:"gap-2 sm:gap-0",children:[(0,e.jsx)(N,{asChild:!0,children:(0,e.jsx)(t,{variant:"outline",className:"h-11 text-base",children:"Annuler"})}),(0,e.jsx)(t,{variant:"destructive",onClick:()=>L(a.id),disabled:m,className:"h-11 text-base",children:m?"Suppression...":"Supprimer"})]})]})]})]})})]},a.id))})]})}):(0,e.jsx)(z,{type:"Entr\xE9e",createLink:"/o/collaborator-videos/new",view:s}),i.totalResults>0&&(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,e.jsx)(t,{onClick:()=>c({search:r,view:s,page:(n-1).toString()}),disabled:n===1,className:"w-full sm:w-auto h-11 text-base",children:"Pr\xE9c\xE9dent"}),(0,e.jsxs)("span",{className:"text-base",children:["Page ",n," sur ",Math.ceil(i.totalResults/g)]}),(0,e.jsx)(t,{onClick:()=>c({search:r,view:s,page:(n+1).toString()}),disabled:n*g>=i.totalResults,className:"w-full sm:w-auto h-11 text-base",children:"Suivant"})]})]})}export{Y as default};
