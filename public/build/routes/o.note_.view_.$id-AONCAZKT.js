import{a as S}from"/build/_shared/chunk-CXU4QXE4.js";import{a as C}from"/build/_shared/chunk-XDNDK56N.js";import"/build/_shared/chunk-KAUQO2FD.js";import"/build/_shared/chunk-7ZNTUDLC.js";import{a as y}from"/build/_shared/chunk-IR4IBHGU.js";import"/build/_shared/chunk-EJG3POZ2.js";import"/build/_shared/chunk-KLKNQD3Q.js";import"/build/_shared/chunk-PGURRWG5.js";import"/build/_shared/chunk-AQWSFLPG.js";import"/build/_shared/chunk-GFAY22KF.js";import"/build/_shared/chunk-NGC74IU4.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as L}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as l,b as c,c as d,e as m,f as x}from"/build/_shared/chunk-G5A27C7O.js";import{h}from"/build/_shared/chunk-NVGVVEPD.js";import{Oa as v,P as w,Y as g,b as f,xa as b}from"/build/_shared/chunk-PNJDYZ5P.js";import{k as n,p as u}from"/build/_shared/chunk-GTSSQFHM.js";import{b as N}from"/build/_shared/chunk-BBTKOQ57.js";import{e as r}from"/build/_shared/chunk-UED2Q7CE.js";var O=r(S()),R=r(L());var e=r(N());function W(){let{note:t,can:p}=u(),A=i=>{switch(i){case"Private":return(0,e.jsx)(g,{className:"h-5 w-5"});case"Public":return(0,e.jsx)(w,{className:"h-5 w-5"});case"Shared":return(0,e.jsx)(v,{className:"h-5 w-5"});default:return null}},a=(i,o)=>!o||o.length===0?null:(0,e.jsxs)(l,{className:"shadow-none border",children:[(0,e.jsx)(c,{className:"p-4",children:(0,e.jsx)(d,{className:"text-base font-semibold",children:i})}),(0,e.jsx)(m,{className:"p-0",children:(0,e.jsx)(C,{className:"h-48 px-4",children:o.map(s=>(0,e.jsx)("div",{className:"py-3",children:(0,e.jsx)("p",{className:"text-base",children:s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.name||s.title})},s.id))})})]});return(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[p?.list&&(0,e.jsx)(h,{asChild:!0,variant:"outline",className:"mb-6 h-12 text-base",children:(0,e.jsxs)(n,{prefetch:"intent",to:"/o/note",children:[(0,e.jsx)(f,{className:"mr-2 h-5 w-5"}),"Retour \xE0 la liste"]})}),(0,e.jsxs)(l,{className:"max-w-2xl mx-auto",children:[(0,e.jsx)(c,{className:"p-4 sm:p-6",children:(0,e.jsxs)(d,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,e.jsx)("span",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:t.title}),(0,e.jsxs)("span",{className:"flex items-center text-base font-medium",children:[A(t.visibility),(0,e.jsx)("span",{className:"ml-2",children:t.visibility})]})]})}),(0,e.jsxs)(m,{className:"p-4 sm:p-6 space-y-6",children:[(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Contenu"}),(0,e.jsx)("p",{className:"whitespace-pre-wrap text-base leading-relaxed",children:t.content})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Auteur"}),(0,e.jsxs)("p",{className:"text-base",children:[t.author.firstName," ",t.author.lastName]})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Date de cr\xE9ation"}),(0,e.jsx)("p",{className:"text-base",children:new Date(t.createdAt).toLocaleString()})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Derni\xE8re mise \xE0 jour"}),(0,e.jsx)("p",{className:"text-base",children:new Date(t.updatedAt).toLocaleString()})]}),t.visibility==="Shared"&&t.sharedWith&&(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Partag\xE9e avec"}),(0,e.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a("Utilisateurs",t.sharedWith.users),a("Postes",t.sharedWith.positions),a("\xC9quipes",t.sharedWith.teams),a("D\xE9partements",t.sharedWith.departments),a("Groupes Horaires",t.sharedWith.hourGroups),a("Groupes d'Acc\xE8s",t.sharedWith.access)]})]}),t.attachments&&t.attachments.length>0&&(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsx)("h3",{className:"text-lg sm:text-xl font-semibold",children:"Pi\xE8ces jointes"}),(0,e.jsx)(y,{attachments:t.attachments})]})]}),p?.edit&&(0,e.jsx)(x,{className:"p-4 sm:p-6",children:(0,e.jsx)(h,{asChild:!0,className:"w-full sm:w-auto h-12 text-base",children:(0,e.jsxs)(n,{prefetch:"intent",to:`/o/note/edit/${t.id}`,children:[(0,e.jsx)(b,{className:"mr-2 h-5 w-5"}),"Modifier la note"]})})})]})]})}export{W as default};
