import{a as ne}from"/build/_shared/chunk-UYD3XYD3.js";import{a as ie}from"/build/_shared/chunk-N4U522YR.js";import{a as oe}from"/build/_shared/chunk-YWUCPBEQ.js";import{a as K,b as O}from"/build/_shared/chunk-KV3PAWNF.js";import"/build/_shared/chunk-GE2LZYMT.js";import"/build/_shared/chunk-FB55SS72.js";import{a as se}from"/build/_shared/chunk-OT2QTX4F.js";import{a as re}from"/build/_shared/chunk-XSP4JB6A.js";import{a as ae}from"/build/_shared/chunk-XKJ5LF2E.js";import{a as te}from"/build/_shared/chunk-PQRB23UE.js";import{a as Z}from"/build/_shared/chunk-CP3WB6KC.js";import{a as ee}from"/build/_shared/chunk-3DB3GQTY.js";import{a as D,b as G}from"/build/_shared/chunk-ABDDDOIB.js";import"/build/_shared/chunk-MRGZKXS3.js";import"/build/_shared/chunk-UNOET767.js";import"/build/_shared/chunk-IEDNE26R.js";import{a as q,b as I,c as Q,d as E,e as l}from"/build/_shared/chunk-NCY4KUS2.js";import"/build/_shared/chunk-Q6K63OHD.js";import"/build/_shared/chunk-KAUQO2FD.js";import"/build/_shared/chunk-7ZNTUDLC.js";import{a as X}from"/build/_shared/chunk-6JFOYO3V.js";import"/build/_shared/chunk-OFTXZR4P.js";import"/build/_shared/chunk-L2TBXS32.js";import"/build/_shared/chunk-IQV4D3C7.js";import"/build/_shared/chunk-H33OI7YH.js";import"/build/_shared/chunk-SS7AQOQ3.js";import"/build/_shared/chunk-2MHSPA7K.js";import"/build/_shared/chunk-M3TRH43M.js";import{a as A}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-XNZ6DBKW.js";import"/build/_shared/chunk-YYMCCM4Y.js";import{a as Y}from"/build/_shared/chunk-35S5HMBT.js";import"/build/_shared/chunk-2BPW44Z6.js";import"/build/_shared/chunk-5KYGR3MA.js";import"/build/_shared/chunk-KLKNQD3Q.js";import"/build/_shared/chunk-PGURRWG5.js";import"/build/_shared/chunk-AQWSFLPG.js";import"/build/_shared/chunk-GFAY22KF.js";import"/build/_shared/chunk-NGC74IU4.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as J}from"/build/_shared/chunk-B6OA2ZRE.js";import"/build/_shared/chunk-G5A27C7O.js";import{h as i}from"/build/_shared/chunk-NVGVVEPD.js";import{V as B,W as F,oa as T}from"/build/_shared/chunk-PNJDYZ5P.js";import{d as L,e as P,h as M,p as R}from"/build/_shared/chunk-GTSSQFHM.js";import{a as z,b as U}from"/build/_shared/chunk-BBTKOQ57.js";import{e as t}from"/build/_shared/chunk-UED2Q7CE.js";var u=t(z());var le=t(Y());var ce=t(X());var me=t(J()),ue=t(ne());var de=t(se()),pe=t(oe()),ge=t(Z()),fe=t(te()),ve=t(ae()),we=t(re()),he=t(ee()),xe=t(ie());var e=t(U());function j(){let{users:s,applicableKpis:f,isWinnerRecords:v,tasks:w,accesses:h,departments:x,hourGroups:k,teams:S,positions:y,bonusCategories:C,can:d,page:r,limit:c}=R(),[o,N]=(0,u.useState)("grid"),[p,V]=(0,u.useState)(""),[g,W]=(0,u.useState)("all"),n=L(),$=P().state==="loading",[m]=M(),b=s.results.filter(a=>(a.firstName.toLowerCase().includes(p.toLowerCase())||a.lastName.toLowerCase().includes(p.toLowerCase()))&&(g==="all"||a.role===g)),H=a=>{let _=f[a.id];return(0,e.jsx)(K,{className:"flex flex-col",applicableKpis:_,tasks:w,user:a,accesses:h,departments:x,hourGroups:k,teams:S,positions:y,bonusCategories:C,isWinnerRecords:v[a.id],can:d},a.id)};return(0,e.jsx)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,e.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:"Liste des Employ\xE9s"}),d.create&&(0,e.jsxs)(i,{onClick:()=>n("/o/users/new"),className:"w-full sm:w-auto h-12 text-base",children:[(0,e.jsx)(T,{className:"mr-2 h-5 w-5"}),"Ajouter un employe"]})]}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-4",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[(0,e.jsx)("div",{className:"flex-1 sm:w-80",children:(0,e.jsx)(A,{type:"text",placeholder:"Rechercher un employ\xE9...",value:p,onChange:a=>V(a.target.value),className:"h-12 text-base w-full"})}),(0,e.jsxs)(q,{value:g,onValueChange:W,children:[(0,e.jsx)(Q,{className:"h-12 text-base w-full sm:w-48",children:(0,e.jsx)(I,{placeholder:"Filtrer par r\xF4le"})}),(0,e.jsxs)(E,{children:[(0,e.jsx)(l,{value:"all",className:"text-base",children:"Tous les r\xF4les"}),(0,e.jsx)(l,{value:"employee",className:"text-base",children:"Employ\xE9"}),(0,e.jsx)(l,{value:"manager",className:"text-base",children:"Manager"}),(0,e.jsx)(l,{value:"admin",className:"text-base",children:"Admin"})]})]})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsxs)(i,{variant:o==="grid"?"default":"outline",onClick:()=>N("grid"),className:"flex-1 sm:flex-none h-12 text-base",children:[(0,e.jsx)(B,{className:"mr-2 h-5 w-5"}),(0,e.jsx)("span",{className:"hidden sm:inline",children:"Grille"})]}),(0,e.jsxs)(i,{variant:o==="list"?"default":"outline",onClick:()=>N("list"),className:"flex-1 sm:flex-none h-12 text-base",children:[(0,e.jsx)(F,{className:"mr-2 h-5 w-5"}),(0,e.jsx)("span",{className:"hidden sm:inline",children:"Liste"})]})]})]}),s.results.length>0&&(0,e.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[(0,e.jsx)(i,{variant:"outline",onClick:()=>{let a=new URLSearchParams(m);a.set("page",(r-1).toString()),n(`?${a.toString()}`)},disabled:r===1,className:"w-full sm:w-auto h-12 text-base",children:"Pr\xE9c\xE9dent"}),(0,e.jsxs)("span",{className:"text-base",children:["Page ",r," sur ",Math.ceil(s.totalResults/c)]}),(0,e.jsx)(i,{variant:"outline",onClick:()=>{let a=new URLSearchParams(m);a.set("page",(r+1).toString()),n(`?${a.toString()}`)},disabled:s.results.length<c,className:"w-full sm:w-auto h-12 text-base",children:"Suivant"})]}),$?(0,e.jsx)(G,{view:o,itemCount:20}):s.results.length>0?o==="grid"?(0,e.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:b.map(a=>H(a))}):(0,e.jsx)("div",{className:"rounded-lg border overflow-x-auto",children:(0,e.jsx)(O,{users:b,tasks:w,applicableKpis:f,accesses:h,departments:x,hourGroups:k,teams:S,positions:y,bonusCategories:C,isWinnerRecords:v,can:d})}):(0,e.jsx)(D,{type:"Employ\xE9",view:o}),s.results.length>0&&(0,e.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[(0,e.jsx)(i,{variant:"outline",onClick:()=>{let a=new URLSearchParams(m);a.set("page",(r-1).toString()),n(`?${a.toString()}`)},disabled:r===1,className:"w-full sm:w-auto h-12 text-base",children:"Pr\xE9c\xE9dent"}),(0,e.jsxs)("span",{className:"text-base",children:["Page ",r," sur ",Math.ceil(s.totalResults/c)]}),(0,e.jsx)(i,{variant:"outline",onClick:()=>{let a=new URLSearchParams(m);a.set("page",(r+1).toString()),n(`?${a.toString()}`)},disabled:s.results.length<c,className:"w-full sm:w-auto h-12 text-base",children:"Suivant"})]})]})})}export{j as default};
