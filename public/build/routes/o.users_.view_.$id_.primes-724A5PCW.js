import{a as S}from"/build/_shared/chunk-MF2GPUAM.js";import{a as L}from"/build/_shared/chunk-PQRB23UE.js";import{a as y}from"/build/_shared/chunk-YDVZI2RP.js";import{c as D}from"/build/_shared/chunk-HQRKW5NX.js";import{a as b}from"/build/_shared/chunk-LZOQ52E6.js";import"/build/_shared/chunk-MRGZKXS3.js";import{b as i}from"/build/_shared/chunk-FB4U2LCE.js";import{a as k}from"/build/_shared/chunk-6JFOYO3V.js";import{a as h}from"/build/_shared/chunk-OFTXZR4P.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as B}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as m,b as l,c as o,e as c}from"/build/_shared/chunk-G5A27C7O.js";import"/build/_shared/chunk-NVGVVEPD.js";import{Oa as f,c as g,d as N,g as w}from"/build/_shared/chunk-PNJDYZ5P.js";import{k as p,p as v}from"/build/_shared/chunk-GTSSQFHM.js";import{b as d}from"/build/_shared/chunk-BBTKOQ57.js";import{e as r}from"/build/_shared/chunk-UED2Q7CE.js";var I=r(k()),F=r(L());var t=r(d()),A=({prime:a})=>(0,t.jsxs)(m,{className:"bg-white border shadow-sm",children:[(0,t.jsx)(l,{className:"p-4 sm:p-6",children:(0,t.jsxs)(o,{className:"flex items-center text-lg font-bold",children:[(0,t.jsx)(N,{className:"mr-3 h-5 w-5"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{children:["Prime de ",a.user.firstName," ",a.user.lastName]}),(0,t.jsxs)("div",{className:"text-sm font-normal text-muted-foreground",children:[new Date(a.startTrackingDate).toLocaleDateString()," -"," ",new Date(a.endTrackingDate).toLocaleDateString()]})]})]})}),(0,t.jsxs)(c,{className:"p-4 sm:p-6 pt-0 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Montant total: ",a.totalAmount.toFixed(2)," F CFA"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Date de calcul: ",new Date(a.calculationDate).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h5",{className:"text-md font-semibold text-center",children:"Details du Calcul"}),(0,t.jsxs)("ol",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-medium",children:"KPIs:"})," ",a.calculationDetails.kpiValue.title]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Cat\xE9gorie:"})," ",a.calculationDetails.bonusCategory.title]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Remarques:"})," ",a.calculationDetails.observations.length," Remarque(s)"]})]})]})]})]});var H=r(S()),R=r(B());var e=r(d());function P(){let{user:a,currentBonusCategoryData:n,bonusCategoriesTracesData:C,primes:T,can:u}=v();return(0,e.jsxs)(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto p-4 space-y-6 max-w-4xl",children:[(0,e.jsxs)(i.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},className:"mb-6",children:[(0,e.jsx)(b,{user:a,can:u}),(0,e.jsx)("h1",{className:"text-3xl font-bold mt-4 text-center",children:"Primes & Cat\xE9gories de prime"})]}),(0,e.jsx)(i.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:(0,e.jsxs)(m,{className:"bg-white border shadow-sm",children:[(0,e.jsx)(l,{children:(0,e.jsxs)(o,{className:"text-xl font-semibold flex items-center",children:[(0,e.jsx)(w,{className:"mr-2 h-5 w-5 text-primary"}),"Cat\xE9gorie de Prime Actuelle"]})}),(0,e.jsx)(c,{children:n?(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,e.jsx)(h,{variant:"secondary",className:"text-sm px-2 py-1",children:"Actuelle"}),(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"font-medium text-lg text-primary",children:u?.bonusCategory?.view?(0,e.jsx)(p,{prefetch:"intent",to:`/o/category-prime/view/${n.id}`,children:n.name}):(0,e.jsx)("span",{children:n.name})}),(0,e.jsxs)("small",{className:"text-sm text-muted-foreground mt-1 flex",children:[(0,e.jsx)(f,{className:"mr-2 h-4 w-4"})," Avec"," ",n.members.length," autre(s) personne(s) dans cette cat\xE9gorie"]})]})]}):(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucune cat\xE9gorie de prime actuelle."})})]})}),(0,e.jsx)(y,{className:"my-8"}),(0,e.jsx)(o,{className:"text-xl font-semibold flex items-center",children:"Historiques des Primes"}),(0,e.jsx)("div",{className:"flex overflow-x-auto space-x-4 sm:space-x-6 p-2 sm:p-0",children:T.map(s=>(0,e.jsx)("div",{className:"flex-shrink-0 w-80 sm:w-auto mb-2",children:(0,e.jsx)(A,{prime:s})},s.id))}),(0,e.jsx)(y,{className:"my-8"}),(0,e.jsx)(i.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},children:(0,e.jsxs)(m,{className:"bg-white border shadow-sm",children:[(0,e.jsx)(l,{children:(0,e.jsxs)(o,{className:"text-xl font-semibold flex items-center",children:[(0,e.jsx)(g,{className:"mr-2 h-5 w-5 text-primary"}),"Historique des Cat\xE9gorie de prime"]})}),(0,e.jsx)(c,{children:C.length===0?(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aucun historique de cat\xE9gorie de prime"}):(0,e.jsx)("ul",{className:"space-y-6",children:C.map((s,x)=>(0,e.jsxs)(i.li,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:x*.1,duration:.5},children:[(0,e.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,e.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,e.jsx)(g,{className:"text-primary h-5 w-5"})}),s.bonusCategoryData?(0,e.jsxs)("div",{children:[(0,e.jsx)("p",{className:"font-medium text-lg text-primary",children:u?.bonusCategory?.view?(0,e.jsx)(p,{prefetch:"intent",to:`/o/category-prime/view/${s.bonusCategoryData.id}`,children:s.bonusCategoryData.name}):(0,e.jsx)("span",{children:s.bonusCategoryData.name})}),(0,e.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Acc\xE9d\xE9 le ",D(s.at)]}),(0,e.jsxs)("small",{className:"text-sm text-muted-foreground mt-1 flex ",children:[(0,e.jsx)(f,{className:"mr-2 h-4 w-4"}),s.bonusCategoryData.members.length," autre(s) personne(s) appartiennent aussi \xE0 cette cat\xE9gorie"]})]}):(0,e.jsx)("p",{className:"text-sm text-destructive",children:"Cat\xE9gorie introuvable"})]}),(0,e.jsx)("hr",{className:"text-center"})]},x))})})]})})]})}export{P as default};
