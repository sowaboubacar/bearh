import{a as q}from"/build/_shared/chunk-CC3KCBJW.js";import{a as v}from"/build/_shared/chunk-L2TBXS32.js";import{b as a}from"/build/_shared/chunk-SS7AQOQ3.js";import{a as C,b as S,c as T}from"/build/_shared/chunk-2MHSPA7K.js";import{a as o}from"/build/_shared/chunk-WZRQ3RQI.js";import{a as V}from"/build/_shared/chunk-35S5HMBT.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as U}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as D,b,c as x,e as N}from"/build/_shared/chunk-G5A27C7O.js";import{h as s}from"/build/_shared/chunk-NVGVVEPD.js";import{X as w,b as h,t as y}from"/build/_shared/chunk-PNJDYZ5P.js";import{e as c,k as l,l as u,p,q as f}from"/build/_shared/chunk-GTSSQFHM.js";import{a as I,b as g}from"/build/_shared/chunk-BBTKOQ57.js";import{e as t}from"/build/_shared/chunk-UED2Q7CE.js";var A=t(I()),B=t(V());var G=t(q()),M=t(U());var e=t(g());function L(){let{guardTour:r,can:F}=p(),n=f(),i=c(),[m,E]=(0,A.useState)(!1),R=()=>{E(!0)},d=j=>new Date(j).toISOString().slice(0,16);return(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 max-w-2xl",children:[F?.list&&(0,e.jsx)(s,{asChild:!0,variant:"outline",className:"mb-6 h-11 text-base",children:(0,e.jsxs)(l,{prefetch:"intent",to:"/o/guard-tours",children:[(0,e.jsx)(h,{className:"mr-2 h-5 w-5"}),"Retour \xE0 la liste"]})}),(0,e.jsxs)(D,{className:"w-full",children:[(0,e.jsx)(b,{className:"p-4 sm:p-6",children:(0,e.jsx)(x,{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Modifier le Tour de Garde"})}),(0,e.jsxs)(N,{className:"p-4 sm:p-6 space-y-6",children:[n?.error&&(0,e.jsxs)(C,{variant:"destructive",children:[(0,e.jsx)(y,{className:"h-5 w-5"}),(0,e.jsx)(S,{className:"text-base font-medium",children:"Erreur"}),(0,e.jsx)(T,{className:"text-base",children:n.error})]}),(0,e.jsxs)(u,{method:"post",onSubmit:R,className:"space-y-6",children:[(0,e.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,e.jsx)(a,{htmlFor:"startDate",className:"text-base font-medium",children:"Date de d\xE9but"}),(0,e.jsx)(o,{type:"datetime-local",id:"startDate",name:"startDate",defaultValue:d(r.startDate),required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,e.jsx)(a,{htmlFor:"endDate",className:"text-base font-medium",children:"Date de fin"}),(0,e.jsx)(o,{type:"datetime-local",id:"endDate",name:"endDate",defaultValue:d(r.endDate),required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,e.jsx)(a,{htmlFor:"notes",className:"text-base font-medium",children:"Notes"}),(0,e.jsx)(v,{id:"notes",name:"notes",defaultValue:r.notes,className:"min-h-[120px] text-base p-3"})]}),(0,e.jsx)(s,{type:"submit",className:"w-full h-11 text-base",disabled:m||i.state==="submitting",children:m||i.state==="submitting"?(0,e.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,e.jsx)(w,{className:"h-5 w-5 animate-spin"}),"Mise \xE0 jour..."]}):"Mettre \xE0 jour le tour de garde"})]})]})]})]})}export{L as default};
