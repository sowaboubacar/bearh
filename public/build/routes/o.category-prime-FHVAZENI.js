import{a as x,b as f,c as w,d as N,e as b,f as v,g as A,h as C,i as D}from"/build/_shared/chunk-3QGBS752.js";import{a as ne}from"/build/_shared/chunk-PQRB23UE.js";import{a as J,b as Y}from"/build/_shared/chunk-ABDDDOIB.js";import{a as Q,b as W,c as X,d as h,e as i,f as l}from"/build/_shared/chunk-IEDNE26R.js";import"/build/_shared/chunk-M3TRH43M.js";import{a as O}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-PGURRWG5.js";import"/build/_shared/chunk-AQWSFLPG.js";import"/build/_shared/chunk-GFAY22KF.js";import"/build/_shared/chunk-NGC74IU4.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as oe}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as H,b as E,c as j,e as U,f as $}from"/build/_shared/chunk-G5A27C7O.js";import{h as t}from"/build/_shared/chunk-NVGVVEPD.js";import{Ea as u,K as z,Oa as G,S as I,V as M,W as V,oa as q,ra as K,xa as g}from"/build/_shared/chunk-PNJDYZ5P.js";import{d as F,e as B,h as k,l as S,p as L,r as P}from"/build/_shared/chunk-GTSSQFHM.js";import{a as le,b as R}from"/build/_shared/chunk-BBTKOQ57.js";import{e as m}from"/build/_shared/chunk-UED2Q7CE.js";var Z=m(le());var ce=m(ne());var me=m(oe());var e=m(R());function _(){let{bonusCategories:o,searchTerm:ee,page:p,view:ae,can:r}=L(),[te,d]=k(),[n,se]=(0,Z.useState)(ee),c=F(),T=P(),re=B().state==="loading",s=te.get("view")||ae,ie=a=>{a.preventDefault(),d({search:n,view:s})},y=a=>{d({search:n,view:a})};return(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:py-10",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,e.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:"Liste des Cat\xE9gorie de Prime"}),r?.create&&(0,e.jsxs)(t,{onClick:()=>c("/o/category-prime/new"),className:"w-full sm:w-auto h-11 text-base",children:[(0,e.jsx)(q,{className:"mr-2 h-5 w-5"}),"Ajouter une cat\xE9gorie"]})]}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,e.jsxs)(S,{onSubmit:ie,className:"relative w-full sm:w-auto",children:[(0,e.jsx)(K,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 transform text-muted-foreground"}),(0,e.jsx)(O,{placeholder:"Rechercher une categorie...",value:n,onChange:a=>se(a.target.value),className:"pl-10 h-11 text-base w-full sm:w-[300px]"})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(t,{variant:s==="grid"?"default":"outline",size:"icon",onClick:()=>y("grid"),className:"h-11 w-11",children:(0,e.jsx)(M,{className:"h-5 w-5"})}),(0,e.jsx)(t,{variant:s==="list"?"default":"outline",size:"icon",onClick:()=>y("list"),className:"h-11 w-11",children:(0,e.jsx)(V,{className:"h-5 w-5"})})]})]}),re?(0,e.jsx)(Y,{view:s,itemCount:20}):o.results.length>0?s==="grid"?(0,e.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:o.results.map(a=>(0,e.jsxs)(H,{className:"flex flex-col",children:[(0,e.jsx)(E,{className:"p-4 sm:p-6",children:(0,e.jsx)(j,{className:"text-xl font-bold mb-4",children:a.name})}),(0,e.jsxs)(U,{className:"p-4 sm:p-6 pt-0 flex-grow",children:[(0,e.jsx)("p",{className:"text-base text-muted-foreground",children:a.description||"Aucune description"}),(0,e.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,e.jsx)(G,{className:"h-5 w-5 mr-2"}),(0,e.jsxs)("span",{className:"text-base",children:[a.members.length," membres"]})]}),(0,e.jsxs)("p",{className:"text-base text-muted-foreground",children:[a.baseAmount," FCFA de base"]}),(0,e.jsxs)("p",{className:"text-base text-muted-foreground",children:[a.coefficient," de coefficient multiplicateur de la moyenne des notes KPI"]}),(0,e.jsxs)("p",{className:"text-base text-muted-foreground",children:["+/- ",a.remarkBonusAmount," FCFA par une remarque"]})]}),(0,e.jsxs)($,{className:"p-4 sm:p-6 flex flex-wrap gap-2",children:[r?.view&&(0,e.jsx)(t,{variant:"outline",className:"flex-1 h-12 text-base",onClick:()=>c(`/o/category-prime/view/${a.id}`),children:(0,e.jsx)(I,{className:"h-5 w-5 mr-2"})}),r?.edit&&(0,e.jsx)(t,{variant:"outline",className:"flex-1 h-12 text-base",onClick:()=>c(`/o/category-prime/edit/${a.id}`),children:(0,e.jsx)(g,{className:"h-5 w-5 mr-2"})}),r?.delete&&(0,e.jsxs)(x,{children:[(0,e.jsx)(f,{asChild:!0,children:(0,e.jsx)(t,{variant:"outline",className:"flex-1 h-12 text-base",children:(0,e.jsx)(u,{className:"h-5 w-5 mr-2"})})}),(0,e.jsxs)(w,{className:"sm:max-w-[425px]",children:[(0,e.jsxs)(N,{children:[(0,e.jsx)(v,{className:"text-xl",children:"\xCAtes-vous s\xFBr ?"}),(0,e.jsx)(A,{className:"text-base",children:"Cette action ne peut pas \xEAtre annul\xE9e. Cela supprimera d\xE9finitivement la cat\xE9gorie."})]}),(0,e.jsxs)(b,{className:"gap-3 sm:gap-0",children:[(0,e.jsx)(D,{className:"h-12 text-base",children:"Annuler"}),(0,e.jsx)(C,{onClick:()=>{T.submit({id:a.id},{method:"delete",action:"/o/categor-prime"})},className:"h-12 text-base",children:"Supprimer"})]})]})]})]})]},a.id))}):(0,e.jsx)("div",{className:"rounded-lg border overflow-x-auto",children:(0,e.jsxs)(Q,{children:[(0,e.jsx)(W,{children:(0,e.jsxs)(h,{children:[(0,e.jsx)(i,{className:"text-base whitespace-nowrap",children:"Nom"}),(0,e.jsx)(i,{className:"text-base whitespace-nowrap hidden sm:table-cell",children:"Montant de base"}),(0,e.jsx)(i,{className:"text-base whitespace-nowrap hidden sm:table-cell",children:"Co\xE9fficient KPI"}),(0,e.jsx)(i,{className:"text-base whitespace-nowrap hidden sm:table-cell",children:"Bonus Remarque"}),(0,e.jsx)(i,{className:"text-base text-right",children:"Actions"})]})}),(0,e.jsx)(X,{children:o.results.map(a=>(0,e.jsxs)(h,{children:[(0,e.jsx)(l,{className:"font-medium text-base",children:a.name}),(0,e.jsxs)(l,{className:"text-base hidden sm:table-cell",children:[a.baseAmount," FCFA"]}),(0,e.jsx)(l,{className:"text-base hidden sm:table-cell",children:a.coefficient}),(0,e.jsxs)(l,{className:"text-base hidden sm:table-cell",children:["+/- ",a.remarkBonusAmount," FCFA"]}),(0,e.jsx)(l,{className:"text-right",children:(0,e.jsxs)("div",{className:"flex justify-end gap-2",children:[r?.view&&(0,e.jsx)(t,{variant:"ghost",size:"icon",onClick:()=>c(`/o/category-prime/view/${a.id}`),className:"h-11 w-11",children:(0,e.jsx)(z,{className:"h-5 w-5"})}),r?.edit&&(0,e.jsx)(t,{variant:"ghost",size:"icon",onClick:()=>c(`/o/category-prime/edit/${a.id}`),className:"h-11 w-11",children:(0,e.jsx)(g,{className:"h-5 w-5"})}),r?.delete&&(0,e.jsxs)(x,{children:[(0,e.jsx)(f,{asChild:!0,children:(0,e.jsx)(t,{variant:"ghost",size:"icon",className:"h-11 w-11",children:(0,e.jsx)(u,{className:"h-5 w-5"})})}),(0,e.jsxs)(w,{className:"p-4 sm:p-6 max-w-[90vw] sm:max-w-[425px]",children:[(0,e.jsxs)(N,{children:[(0,e.jsx)(v,{className:"text-lg sm:text-xl",children:"\xCAtes-vous s\xFBr ?"}),(0,e.jsx)(A,{className:"text-base",children:"Cette action ne peut pas \xEAtre annul\xE9e. Cela supprimera d\xE9finitivement la cat\xE9gorie."})]}),(0,e.jsxs)(b,{className:"gap-3",children:[(0,e.jsx)(D,{className:"h-11 text-base",children:"Annuler"}),(0,e.jsx)(C,{onClick:()=>{T.submit({id:a.id},{method:"delete",action:"/o/category-prime"})},className:"h-11 text-base",children:"Supprimer"})]})]})]})]})})]},a.id))})]})}):(0,e.jsx)(J,{type:"cat\xE9gorie de Prime",createLink:"/o/category-prime/new",view:s}),o.totalResults>0&&(0,e.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,e.jsx)(t,{variant:"outline",onClick:()=>d({search:n,view:s,page:(p-1).toString()}),disabled:p===1,className:"h-11 text-base",children:"Pr\xE9c\xE9dent"}),(0,e.jsx)(t,{variant:"outline",onClick:()=>d({search:n,view:s,page:(p+1).toString()}),disabled:o.results.length<20,className:"h-11 text-base",children:"Suivant"})]})]})}export{_ as default};
