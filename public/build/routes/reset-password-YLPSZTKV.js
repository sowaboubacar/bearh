import{a as j,b as E,c as F}from"/build/_shared/chunk-HYL2BHUQ.js";import{b as c}from"/build/_shared/chunk-SS7AQOQ3.js";import{a as o,b as i,c as n}from"/build/_shared/chunk-2MHSPA7K.js";import{a as m}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-OMO5CWS2.js";import{a as w,b as N,c as b,d as y,e as k}from"/build/_shared/chunk-G5A27C7O.js";import{h as A}from"/build/_shared/chunk-NVGVVEPD.js";import{X as L,b as D,t as r}from"/build/_shared/chunk-PNJDYZ5P.js";import{e as u,k as f,l as x,p as h,q as g}from"/build/_shared/chunk-GTSSQFHM.js";import{a as V,b as v}from"/build/_shared/chunk-BBTKOQ57.js";import{e as t}from"/build/_shared/chunk-UED2Q7CE.js";var l=t(V());var H=t(E()),B=t(j()),M=t(F()),e=t(v()),z=()=>[{rel:"preload",as:"image",href:"https://images.unsplash.com/photo-1562243061-204550d8a2c9?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{rel:"preload",as:"image",href:"/img/logo-rect-white.png"},{rel:"preload",as:"image",href:"/img/logo-rect-dark.png"}];function q(){return[{name:"description",content:"R\xE9initialisez votre mot de passe pour acc\xE9der \xE0 la plateforme RH de la Pharmacie Val d'Oise."},{title:"Nouveau mot de passe - Pharmacie Val d'Oise"}]}function R(){let[C,P]=(0,l.useState)("light"),a=g(),{token:T,tokenIsValid:d}=h(),p=u();return(0,l.useEffect)(()=>{(async()=>{try{let s=await fetch("/api/set-theme");if(s.ok){let S=await s.json();P(S.theme||"light")}else console.error("Erreur lors de la r\xE9cup\xE9ration du th\xE8me :",s.statusText)}catch(s){console.error("Erreur lors de la r\xE9cup\xE9ration du th\xE8me :",s)}})()},[]),(0,e.jsxs)("div",{className:"flex min-h-screen flex-col lg:flex-row",children:[(0,e.jsx)("div",{className:"flex w-full lg:w-1/2",children:(0,e.jsx)("div",{className:"w-full max-w-md mx-auto px-4 sm:px-6 py-8 sm:py-12",children:(0,e.jsxs)("div",{className:"space-y-6",children:[C==="dark"?(0,e.jsx)("img",{src:"/img/logo-rect-dark.png",alt:"logo",className:"h-12 sm:h-14 w-auto mx-auto"}):(0,e.jsx)("img",{src:"/img/logo-rect-white.png",alt:"logo",className:"h-12 sm:h-14 w-auto mx-auto"}),(0,e.jsx)("p",{className:"text-center text-base text-muted-foreground font-semibold",children:"Portail RH de la Pharmacie Val d'Oise"}),(0,e.jsxs)(w,{className:"w-full",children:[(0,e.jsxs)(N,{className:"space-y-3 p-6",children:[(0,e.jsx)(b,{className:"text-center",children:(0,e.jsx)("h5",{className:"text-xl sm:text-2xl font-bold",children:"R\xE9initialisation du mot de passe"})}),(0,e.jsx)(y,{className:"text-base",children:a?.isSubmitted?"Votre mot de passe a \xE9t\xE9 r\xE9initialis\xE9 avec succ\xE8s":d?"Entrez votre nouveau mot de passe ci-dessous":"Le lien de r\xE9initialisation est invalide ou a expir\xE9"})]}),(0,e.jsxs)(k,{className:"p-6 space-y-6",children:[a?.isSubmitted?(0,e.jsxs)(o,{children:[(0,e.jsx)(r,{className:"h-5 w-5"}),(0,e.jsx)(i,{className:"text-base font-medium",children:"Mot de passe r\xE9initialis\xE9"}),(0,e.jsx)(n,{className:"text-base",children:"Votre mot de passe a \xE9t\xE9 r\xE9initialis\xE9 avec succ\xE8s. Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."})]}):d?(0,e.jsxs)(x,{method:"post",className:"space-y-6",children:[(0,e.jsx)("input",{type:"hidden",name:"token",value:T}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(c,{htmlFor:"password",className:"text-base font-medium",children:"Nouveau mot de passe"}),(0,e.jsx)(m,{id:"password",name:"password",type:"password",required:!0,className:"h-12 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(c,{htmlFor:"confirmPassword",className:"text-base font-medium",children:"Confirmer le mot de passe"}),(0,e.jsx)(m,{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"h-12 text-base"})]}),a?.error&&(0,e.jsxs)(o,{variant:"destructive",children:[(0,e.jsx)(r,{className:"h-5 w-5"}),(0,e.jsx)(i,{className:"text-base font-medium",children:"Erreur"}),(0,e.jsx)(n,{className:"text-base",children:a.error})]}),(0,e.jsx)(A,{type:"submit",className:"w-full h-12 text-base",disabled:p.state==="submitting",children:p.state==="submitting"?(0,e.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,e.jsx)(L,{className:"h-5 w-5 animate-spin"}),"R\xE9initialisation en cours..."]}):"R\xE9initialiser le mot de passe"})]}):(0,e.jsxs)(o,{variant:"destructive",children:[(0,e.jsx)(r,{className:"h-5 w-5"}),(0,e.jsx)(i,{className:"text-base font-medium",children:"Erreur"}),(0,e.jsx)(n,{className:"text-base",children:"Le lien de r\xE9initialisation est invalide ou a expir\xE9. Veuillez demander un nouveau lien."})]}),(0,e.jsx)("div",{className:"pt-4",children:(0,e.jsxs)(f,{to:"/",prefetch:"intent",className:"inline-flex items-center text-base text-muted-foreground hover:text-primary",children:[(0,e.jsx)(D,{className:"mr-2 h-5 w-5"}),"Retour \xE0 la page de connexion"]})})]})]}),(0,e.jsx)("div",{className:"text-center text-base text-muted-foreground",children:"\xA9 2024 Pharm. Val Doise - By Selys-Africa"})]})})}),(0,e.jsx)("div",{className:"hidden lg:block w-1/2 relative",children:(0,e.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1562243061-204550d8a2c9?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"},children:(0,e.jsx)("div",{className:"absolute inset-0 bg-primary/70 backdrop-blur-sm",children:(0,e.jsxs)("div",{className:"flex h-full flex-col items-center justify-center px-12 text-center text-primary-foreground",children:[(0,e.jsx)("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6",children:"S\xE9curit\xE9 renforc\xE9e"}),(0,e.jsx)("p",{className:"text-lg sm:text-xl",children:"La r\xE9initialisation de votre mot de passe garantit la s\xE9curit\xE9 de votre compte. Choisissez un mot de passe fort pour prot\xE9ger vos informations."})]})})})})]})}export{R as default,z as links,q as meta};
