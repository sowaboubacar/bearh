import"/build/_shared/chunk-5XLFFDES.js";import{a as E}from"/build/_shared/chunk-YWUCPBEQ.js";import{a as y}from"/build/_shared/chunk-PVX4NJUU.js";import{a as S}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as x,b as p,c as u,e as g}from"/build/_shared/chunk-G5A27C7O.js";import{h as i}from"/build/_shared/chunk-NVGVVEPD.js";import{b as h,va as v,x as f,xa as b,z as w}from"/build/_shared/chunk-PNJDYZ5P.js";import{d as n,k as c,p as d}from"/build/_shared/chunk-GTSSQFHM.js";import{a as D,b as l}from"/build/_shared/chunk-BBTKOQ57.js";import{e as a}from"/build/_shared/chunk-UED2Q7CE.js";var N=a(D());var P=a(E());var R=a(S()),e=a(l());function k(){let{access:t,can:o}=d(),[r,C]=(0,N.useState)(null),A=n(),L=s=>{C(r===s?null:s)};return(0,e.jsxs)("div",{className:"w-full max-w-8xl mx-auto p-4 sm:p-6 lg:p-8",children:[o.list&&(0,e.jsx)(i,{asChild:!0,variant:"outline",className:"mb-4 h-10 text-sm sm:h-11 sm:text-base",children:(0,e.jsxs)(c,{prefetch:"intent",to:"/o/access",children:[(0,e.jsx)(h,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Retour \xE0 la liste"]})}),(0,e.jsxs)(x,{className:"bg-white border border-gray-200 rounded-xl shadow-sm dark:bg-slate-900 dark:border-gray-700",children:[(0,e.jsx)(p,{className:"p-4 sm:p-6 lg:p-8",children:(0,e.jsxs)(u,{className:"text-center text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 dark:text-white flex items-center justify-center",children:[(0,e.jsx)(v,{className:"mr-2 h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7"}),t.name]})}),(0,e.jsxs)(g,{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-800 dark:text-white",children:"Description"}),(0,e.jsx)("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:t.description||"Aucune description fournie"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-base sm:text-lg lg:text-xl font-semibold text-gray-800 dark:text-white mb-3",children:"Permissions"}),(0,e.jsx)("div",{className:"hs-accordion-group",children:Object.entries(y).map(([s,{label:B,actions:j}])=>(0,e.jsxs)("div",{className:"hs-accordion border-b border-gray-200 dark:border-gray-700",children:[(0,e.jsxs)("button",{type:"button",className:"hs-accordion-toggle hs-accordion-active:text-blue-600 inline-flex items-center gap-x-3 w-full font-semibold text-left text-gray-800 transition py-4 px-4 sm:px-5 hover:text-gray-500 dark:hs-accordion-active:text-blue-500 dark:text-gray-200 dark:hover:text-gray-400 text-sm sm:text-base","aria-controls":`accordion-${s}`,onClick:()=>L(s),children:[B,(0,e.jsx)("svg",{className:`${r===s?"rotate-180":""} ml-auto h-4 w-4 sm:h-5 sm:w-5 transition-transform`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,e.jsx)("div",{id:`accordion-${s}`,className:`hs-accordion-content w-full overflow-hidden transition-[height] duration-300 ${r===s?"":"hidden"}`,children:(0,e.jsx)("div",{className:"p-4 sm:p-5",children:(0,e.jsx)("ul",{className:"space-y-3",children:Object.entries(j).map(([m,$])=>(0,e.jsxs)("li",{className:"flex items-center",children:[t.permissions[s]?.includes(m)?(0,e.jsx)(f,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 text-primary border-primary-foreground"}):(0,e.jsx)(w,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 text-red-500"}),(0,e.jsx)("span",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:$})]},m))})})})]},s))})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-sm sm:text-base font-semibold text-gray-800 dark:text-white",children:"Cr\xE9\xE9 le"}),(0,e.jsxs)("p",{className:"mt-1.5 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:[new Date(t.createdAt).toLocaleString()," Par ",t.createdBy?.firstName," ",t.createdBy?.lastName]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h2",{className:"text-sm sm:text-base font-semibold text-gray-800 dark:text-white",children:"Mis \xE0 jour le"}),(0,e.jsxs)("p",{className:"mt-1.5 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:[new Date(t.updatedAt).toLocaleString()," ",t.updatedBy?`Par ${t.updatedBy.firstName} ${t.updatedBy.lastName}`:""]})]}),o.edit&&(0,e.jsx)("div",{className:"col-span-1 sm:col-span-2 flex justify-center",children:(0,e.jsxs)(i,{className:"w-full sm:w-1/2 h-10 text-sm sm:h-11 sm:text-base",onClick:()=>A(`/o/access/edit/${t.id}`),children:[(0,e.jsx)(b,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Modifier"]})})]})]})]})]})}export{k as default};
