import{a as X}from"/build/_shared/chunk-34UDL6WH.js";import{a as L,b as w,c as I,d as E,e as r}from"/build/_shared/chunk-NCY4KUS2.js";import"/build/_shared/chunk-Q6K63OHD.js";import"/build/_shared/chunk-KAUQO2FD.js";import"/build/_shared/chunk-7ZNTUDLC.js";import{a as R}from"/build/_shared/chunk-L2TBXS32.js";import{a as q}from"/build/_shared/chunk-A762UFCP.js";import"/build/_shared/chunk-RHTBOEYQ.js";import"/build/_shared/chunk-HNF2M344.js";import"/build/_shared/chunk-IQV4D3C7.js";import"/build/_shared/chunk-H33OI7YH.js";import"/build/_shared/chunk-JBQJJPFB.js";import{b as a}from"/build/_shared/chunk-SS7AQOQ3.js";import{a as T,b as j,c as V}from"/build/_shared/chunk-2MHSPA7K.js";import"/build/_shared/chunk-M3TRH43M.js";import{a as s}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-XNZ6DBKW.js";import"/build/_shared/chunk-YYMCCM4Y.js";import{a as Q}from"/build/_shared/chunk-35S5HMBT.js";import"/build/_shared/chunk-2BPW44Z6.js";import"/build/_shared/chunk-5KYGR3MA.js";import"/build/_shared/chunk-KLKNQD3Q.js";import"/build/_shared/chunk-PGURRWG5.js";import"/build/_shared/chunk-AQWSFLPG.js";import"/build/_shared/chunk-GFAY22KF.js";import"/build/_shared/chunk-NGC74IU4.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as K}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as x,b as v,c as y,e as S,f as D}from"/build/_shared/chunk-G5A27C7O.js";import{h as l}from"/build/_shared/chunk-NVGVVEPD.js";import{X as A,b as C,t as F}from"/build/_shared/chunk-PNJDYZ5P.js";import{e as p,i as u,k as N,l as f,p as h,q as g}from"/build/_shared/chunk-GTSSQFHM.js";import{a as J,b}from"/build/_shared/chunk-BBTKOQ57.js";import{e as o}from"/build/_shared/chunk-UED2Q7CE.js";var Y=o(Q());var n=o(J());var Z=o(X()),_=o(K());var e=o(b());function B(){let{candidate:t}=h(),m=g(),U=p(),[P,H]=(0,n.useState)(t.status),c=U.state==="submitting",[M,O]=(0,n.useState)(t.attachments),[ee,W]=(0,n.useState)(!1),k=u(),z=i=>{i.preventDefault();let d=new FormData(i.currentTarget);M.forEach(G=>{d.append("attachments",G.id)}),k(d,{method:"post"})},$=i=>{O(i)};return(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:py-10",children:[(0,e.jsx)(l,{asChild:!0,variant:"outline",className:"mb-6 h-11 text-base",children:(0,e.jsxs)(N,{prefetch:"intent",to:"/o/candidates",children:[(0,e.jsx)(C,{className:"mr-2 h-5 w-5"}),"Retour \xE0 la liste"]})}),(0,e.jsxs)(x,{className:"max-w-2xl mx-auto",children:[(0,e.jsx)(v,{className:"p-4 sm:p-6",children:(0,e.jsx)(y,{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Modifier le Candidat"})}),(0,e.jsxs)(f,{method:"post",onSubmit:z,children:[(0,e.jsxs)(S,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[m?.error&&(0,e.jsxs)(T,{variant:"destructive",children:[(0,e.jsx)(F,{className:"h-5 w-5"}),(0,e.jsx)(j,{className:"text-base font-medium",children:"Erreur"}),(0,e.jsx)(V,{className:"text-base",children:m.error})]}),(0,e.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(a,{htmlFor:"firstName",className:"text-base",children:"Pr\xE9nom"}),(0,e.jsx)(s,{id:"firstName",name:"firstName",defaultValue:t.firstName,required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(a,{htmlFor:"lastName",className:"text-base",children:"Nom"}),(0,e.jsx)(s,{id:"lastName",name:"lastName",defaultValue:t.lastName,required:!0,className:"h-11 text-base"})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(a,{htmlFor:"email",className:"text-base",children:"Email"}),(0,e.jsx)(s,{id:"email",name:"email",type:"email",defaultValue:t.email,required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(a,{htmlFor:"phone",className:"text-base",children:"T\xE9l\xE9phone"}),(0,e.jsx)(s,{id:"phone",name:"phone",type:"tel",defaultValue:t.phone,required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(a,{htmlFor:"positionApplied",className:"text-base",children:"Poste demand\xE9"}),(0,e.jsx)(s,{id:"positionApplied",name:"positionApplied",defaultValue:t.positionApplied,required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(a,{htmlFor:"status",className:"text-base",children:"Statut"}),(0,e.jsxs)(L,{name:"status",value:P,onValueChange:H,children:[(0,e.jsx)(I,{className:"h-11 text-base",children:(0,e.jsx)(w,{placeholder:"S\xE9lectionner un statut"})}),(0,e.jsxs)(E,{children:[(0,e.jsx)(r,{value:"In Process",className:"text-base",children:"En cours"}),(0,e.jsx)(r,{value:"Rejected",className:"text-base",children:"Rejet\xE9"}),(0,e.jsx)(r,{value:"Hired",className:"text-base",children:"Embauch\xE9"})]})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(a,{htmlFor:"applicationDate",className:"text-base",children:"Date de candidature"}),(0,e.jsx)(s,{id:"applicationDate",name:"applicationDate",type:"date",defaultValue:new Date(t.applicationDate).toISOString().split("T")[0],required:!0,className:"h-11 text-base"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(a,{htmlFor:"notes",className:"text-base",children:"Notes"}),(0,e.jsx)(R,{id:"notes",name:"notes",rows:4,defaultValue:t.notes,className:"text-base min-h-[120px] resize-y"})]}),(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(a,{htmlFor:"attachments",className:"text-base font-medium",children:"Images & Pi\xE8ces jointes"}),(0,e.jsx)(q,{onSelect:$,defaultSelectedDocuments:t.attachments,multiple:!0,accept:"image/*,application/pdf",maxSize:5*1024*1024,onBusyStateChange:W})]})]}),(0,e.jsx)(D,{className:"p-4 sm:p-6",children:(0,e.jsx)(l,{type:"submit",className:"w-full h-11 text-base",disabled:c,children:c?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(A,{className:"mr-2 h-5 w-5 animate-spin"}),"Mise \xE0 jour en cours..."]}):"Mettre \xE0 jour le Candidat"})})]})]})]})}export{B as default};
