import{a as C,b as V}from"/build/_shared/chunk-ABDDDOIB.js";import{a as T}from"/build/_shared/chunk-LZOQ52E6.js";import"/build/_shared/chunk-MRGZKXS3.js";import{a as S,b as R,c as L,d as u,e as c,f as d}from"/build/_shared/chunk-IEDNE26R.js";import{b as l}from"/build/_shared/chunk-FB4U2LCE.js";import{a as E}from"/build/_shared/chunk-6JFOYO3V.js";import{a as j}from"/build/_shared/chunk-XQJLJUUY.js";import"/build/_shared/chunk-M3TRH43M.js";import{a as D}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as $}from"/build/_shared/chunk-B6OA2ZRE.js";import"/build/_shared/chunk-G5A27C7O.js";import{h as i}from"/build/_shared/chunk-NVGVVEPD.js";import{K as y,ra as N}from"/build/_shared/chunk-PNJDYZ5P.js";import{e as b,h as f,i as g,k as h,l as w,p as v}from"/build/_shared/chunk-GTSSQFHM.js";import{a as I,b as x}from"/build/_shared/chunk-BBTKOQ57.js";import{e as a}from"/build/_shared/chunk-UED2Q7CE.js";var M=a($()),k=a(I());var O=a(E()),q=a(j());var e=a(x());function P(){let{videos:o,search:r,user:H,page:s,limit:m,can:p}=v(),[z,B]=(0,k.useState)(!1),U=g(),F=b().state==="loading",[J,n]=f(),K=t=>{B(!0),U({id:t},{method:"delete",action:"/o/collaborator-videos}"})},A=t=>{t.preventDefault(),n({search:r})};return(0,e.jsxs)(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto p-4 space-y-6 max-w-6xl",children:[(0,e.jsxs)(l.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},className:"mb-6",children:[(0,e.jsx)(T,{user:H,can:p}),(0,e.jsx)("h1",{className:"text-3xl font-bold mt-4 text-center",children:"Vid\xE9os et Contenus Associ\xE9s"})]}),(0,e.jsx)(l.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:(0,e.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 space-y-6",children:[(0,e.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-4",children:(0,e.jsxs)(w,{className:"flex items-center gap-2 w-full sm:w-auto sm:flex-1",onSubmit:A,children:[(0,e.jsx)(D,{type:"search",name:"search",placeholder:"Rechercher des unit\xE9 de connaissances...",onChange:t=>n({search:t.target.value}),defaultValue:r??"",className:"h-12 text-base  rounded-full border-2 border-primary"}),(0,e.jsx)(i,{type:"submit",className:"h-12 w-12 flex-shrink-0  rounded-full border-2 border-primary",children:(0,e.jsx)(N,{className:"h-5 w-5"})})]})}),F?(0,e.jsx)(V,{view:"list",itemCount:m}):o.results.length>0?(0,e.jsx)("div",{className:"rounded-lg border overflow-x-auto",children:(0,e.jsxs)(S,{children:[(0,e.jsx)(R,{children:(0,e.jsxs)(u,{children:[(0,e.jsx)(c,{className:"text-base",children:"Titre"}),(0,e.jsx)(c,{className:"text-base hidden sm:table-cell",children:"Description"}),(0,e.jsx)(c,{className:"text-base text-right",children:"Actions"})]})}),(0,e.jsx)(L,{children:o.results.map(t=>(0,e.jsxs)(u,{children:[(0,e.jsx)(d,{className:"font-medium text-base",children:t.title}),(0,e.jsx)(d,{className:"text-base hidden sm:table-cell",children:t.description}),(0,e.jsx)(d,{children:(0,e.jsx)("div",{className:"flex justify-end gap-2",children:p?.collaboratorVideo?.view&&(0,e.jsx)(i,{asChild:!0,variant:"outline",className:"h-11 w-11",children:(0,e.jsx)(h,{prefetch:"intent",to:`/o/collaborator-videos/view/${t.id}`,children:(0,e.jsx)(y,{className:"h-5 w-5"})})})})})]},t.id))})]})}):(0,e.jsx)(C,{type:"tasks",createLink:"/o/task/new",view:"list"}),o.totalResults>0&&(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,e.jsx)(i,{onClick:()=>n({search:r,page:(s-1).toString()}),disabled:s===1,className:"w-full sm:w-auto h-11 text-base",children:"Pr\xE9c\xE9dent"}),(0,e.jsxs)("span",{className:"text-base",children:["Page ",s," sur ",Math.ceil(o.totalResults/m)]}),(0,e.jsx)(i,{onClick:()=>n({search:r,page:(s+1).toString()}),disabled:s*m>=o.totalResults,className:"w-full sm:w-auto h-11 text-base",children:"Suivant"})]})]})})]})}export{P as default};
