import{a as oe}from"/build/_shared/chunk-YWUCPBEQ.js";import{a as x,b as v,c as N,d as f,e as b,f as A,g as C,h as D,i as T}from"/build/_shared/chunk-3QGBS752.js";import{a as q,b as W}from"/build/_shared/chunk-ABDDDOIB.js";import{a as J,b as K,c as Q,d as w,e as c,f as d}from"/build/_shared/chunk-IEDNE26R.js";import"/build/_shared/chunk-M3TRH43M.js";import{a as O}from"/build/_shared/chunk-WZRQ3RQI.js";import"/build/_shared/chunk-PGURRWG5.js";import"/build/_shared/chunk-AQWSFLPG.js";import"/build/_shared/chunk-GFAY22KF.js";import"/build/_shared/chunk-NGC74IU4.js";import"/build/_shared/chunk-WKQOSWRL.js";import"/build/_shared/chunk-Z5RMMUMH.js";import"/build/_shared/chunk-SUJVG5FV.js";import"/build/_shared/chunk-OMO5CWS2.js";import"/build/_shared/chunk-PVX4NJUU.js";import{a as re}from"/build/_shared/chunk-B6OA2ZRE.js";import{a as j,b as z,c as E,e as U,f as $}from"/build/_shared/chunk-G5A27C7O.js";import{h as t}from"/build/_shared/chunk-NVGVVEPD.js";import{Ea as p,V as M,W as V,oa as I,ra as G,va as g,xa as h}from"/build/_shared/chunk-PNJDYZ5P.js";import{d as S,e as k,h as B,l as F,p as R,r as H}from"/build/_shared/chunk-GTSSQFHM.js";import{a as ie,b as P}from"/build/_shared/chunk-BBTKOQ57.js";import{e as n}from"/build/_shared/chunk-UED2Q7CE.js";var X=n(ie());var le=n(oe());var ne=n(re());var e=n(P());function Y(){let{accesses:r,searchTerm:Z,page:u,view:_,can:i}=R(),[ee,m]=B(),[o,se]=(0,X.useState)(Z),l=S(),y=H(),te=k().state==="loading",a=ee.get("view")||_,ae=s=>{s.preventDefault(),m({search:o,view:a})},L=s=>{m({search:o,view:s})};return(0,e.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:py-8 lg:py-10",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[(0,e.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:"Liste des Acc\xE8s"}),i.create&&(0,e.jsxs)(t,{onClick:()=>l("/o/access/new"),className:"h-10 text-sm sm:h-11 sm:text-base w-full sm:w-auto",children:[(0,e.jsx)(I,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Ajouter un acc\xE8s"]})]}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6",children:[(0,e.jsxs)(F,{onSubmit:ae,className:"relative w-full sm:w-auto",children:[(0,e.jsx)(G,{className:"absolute left-3 top-1/2 h-4 w-4 sm:h-5 sm:w-5 -translate-y-1/2 transform text-muted-foreground"}),(0,e.jsx)(O,{placeholder:"Rechercher un acc\xE8s...",value:o,onChange:s=>se(s.target.value),className:"pl-10 sm:pl-11 h-10 sm:h-11 text-sm sm:text-base w-full sm:w-[300px]"})]}),(0,e.jsxs)("div",{className:"flex space-x-2",children:[(0,e.jsx)(t,{variant:a==="grid"?"default":"outline",size:"icon",onClick:()=>L("grid"),className:"h-10 w-10 sm:h-11 sm:w-11",children:(0,e.jsx)(M,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),(0,e.jsx)(t,{variant:a==="list"?"default":"outline",size:"icon",onClick:()=>L("list"),className:"h-10 w-10 sm:h-11 sm:w-11",children:(0,e.jsx)(V,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),te?(0,e.jsx)(W,{view:a,itemCount:20}):r.results.length>0?a==="grid"?(0,e.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:r.results.map(s=>(0,e.jsxs)(j,{children:[(0,e.jsx)(z,{className:"p-4 sm:p-6",children:(0,e.jsx)(E,{className:"text-lg sm:text-xl",children:s.name})}),(0,e.jsx)(U,{className:"p-4 sm:p-6 pt-0",children:(0,e.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:s.description||"Aucune description"})}),(0,e.jsxs)($,{className:"p-4 sm:p-6 flex justify-end space-x-2",children:[i.view&&(0,e.jsx)(t,{variant:"outline",size:"icon",onClick:()=>l(`/o/access/view/${s.id}`),className:"h-10 w-10 sm:h-11 sm:w-11",children:(0,e.jsx)(g,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.edit&&(0,e.jsx)(t,{variant:"outline",size:"icon",onClick:()=>l(`/o/access/edit/${s.id}`),className:"h-10 w-10 sm:h-11 sm:w-11",children:(0,e.jsx)(h,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.delete&&(0,e.jsxs)(x,{children:[(0,e.jsx)(v,{asChild:!0,children:(0,e.jsx)(t,{variant:"outline",size:"icon",className:"h-10 w-10 sm:h-11 sm:w-11",children:(0,e.jsx)(p,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),(0,e.jsxs)(N,{className:"sm:max-w-[425px]",children:[(0,e.jsxs)(f,{children:[(0,e.jsx)(A,{className:"text-lg sm:text-xl",children:"\xCAtes-vous s\xFBr ?"}),(0,e.jsx)(C,{className:"text-sm sm:text-base",children:"Cette action ne peut pas \xEAtre annul\xE9e. Cela supprimera d\xE9finitivement l'acc\xE8s et toutes les donn\xE9es associ\xE9es."})]}),(0,e.jsxs)(b,{children:[(0,e.jsx)(T,{className:"h-10 text-sm sm:h-11 sm:text-base",children:"Annuler"}),(0,e.jsx)(D,{className:"h-10 text-sm sm:h-11 sm:text-base",onClick:()=>{y.submit({id:s.id},{method:"delete",action:"/o/access"})},children:"Supprimer"})]})]})]})]})]},s.id))}):(0,e.jsx)("div",{className:"rounded-lg border",children:(0,e.jsxs)(J,{children:[(0,e.jsx)(K,{children:(0,e.jsxs)(w,{children:[(0,e.jsx)(c,{className:"text-sm sm:text-base",children:"Nom"}),(0,e.jsx)(c,{className:"text-sm sm:text-base hidden sm:table-cell",children:"Description"}),(0,e.jsx)(c,{className:"text-sm sm:text-base text-right",children:"Actions"})]})}),(0,e.jsx)(Q,{children:r.results.map(s=>(0,e.jsxs)(w,{children:[(0,e.jsx)(d,{className:"font-medium text-sm sm:text-base",children:s.name}),(0,e.jsx)(d,{className:"text-sm sm:text-base hidden sm:table-cell",children:s.description||"Aucune description"}),(0,e.jsx)(d,{className:"text-right",children:(0,e.jsxs)("div",{className:"flex justify-end gap-2",children:[i.view&&(0,e.jsx)(t,{variant:"ghost",size:"icon",onClick:()=>l(`/o/access/view/${s.id}`),className:"h-10 w-10 sm:h-11 sm:w-11",children:(0,e.jsx)(g,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.edit&&(0,e.jsx)(t,{variant:"ghost",size:"icon",onClick:()=>l(`/o/access/edit/${s.id}`),className:"h-10 w-10 sm:h-11 sm:w-11",children:(0,e.jsx)(h,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),i.delete&&(0,e.jsxs)(x,{children:[(0,e.jsx)(v,{asChild:!0,children:(0,e.jsx)(t,{variant:"ghost",size:"icon",className:"h-10 w-10 sm:h-11 sm:w-11",children:(0,e.jsx)(p,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),(0,e.jsxs)(N,{className:"sm:max-w-[425px]",children:[(0,e.jsxs)(f,{children:[(0,e.jsx)(A,{className:"text-lg sm:text-xl",children:"\xCAtes-vous s\xFBr ?"}),(0,e.jsx)(C,{className:"text-sm sm:text-base",children:"Cette action ne peut pas \xEAtre annul\xE9e. Cela supprimera d\xE9finitivement l'acc\xE8s et toutes les donn\xE9es associ\xE9es."})]}),(0,e.jsxs)(b,{children:[(0,e.jsx)(T,{className:"h-10 text-sm sm:h-11 sm:text-base",children:"Annuler"}),(0,e.jsx)(D,{className:"h-10 text-sm sm:h-11 sm:text-base",onClick:()=>{y.submit({id:s.id},{method:"delete",action:"/o/access"})},children:"Supprimer"})]})]})]})]})})]},s.id))})]})}):(0,e.jsx)(q,{type:"acc\xE8s",createLink:"/o/access/new",view:a}),r.results.length>0&&(0,e.jsxs)("div",{className:"mt-6 flex justify-center space-x-2",children:[(0,e.jsx)(t,{variant:"outline",onClick:()=>m({search:o,view:a,page:(u-1).toString()}),disabled:u===1,className:"h-10 text-sm sm:h-11 sm:text-base",children:"Pr\xE9c\xE9dent"}),(0,e.jsx)(t,{variant:"outline",onClick:()=>m({search:o,view:a,page:(u+1).toString()}),disabled:r.results.length<20,className:"h-10 text-sm sm:h-11 sm:text-base",children:"Suivant"})]})]})}export{Y as default};
